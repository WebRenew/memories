---
title: MCP Server
description: Use memories.sh with any MCP-compatible client.
---

memories.sh includes a built-in MCP (Model Context Protocol) server that exposes your memories directly to any compatible AI agent or client.

<MCPInstallButtons />

---

## Get Your API Key

Before configuring any tool, get your API key from the [dashboard](/app), or run:

```bash
memories login
```

---

## Tool-Specific Setup

<div id="cursor" />

### Cursor

Add to `.cursor/mcp.json` in your project (or `~/.cursor/mcp.json` globally):

```json
{
  "mcpServers": {
    "memories": {
      "url": "https://memories.sh/api/mcp?api_key=REPLACE_WITH_YOUR_API_KEY"
    }
  }
}
```

<Callout type="warn">
**Replace** `REPLACE_WITH_YOUR_API_KEY` with your actual API key from the [dashboard](/app/settings). Do not append—select and replace the entire placeholder.
</Callout>

<div id="claude-code" />

### Claude Code

Run this command in your terminal:

```bash
claude mcp add memories -- npx -y @memories.sh/cli serve --api-key REPLACE_WITH_YOUR_API_KEY
```

**Replace** `REPLACE_WITH_YOUR_API_KEY` with your key from the dashboard.

<div id="claude-desktop" />

### Claude Desktop

Add to `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) or `%APPDATA%\Claude\claude_desktop_config.json` (Windows):

```json
{
  "mcpServers": {
    "memories": {
      "url": "https://memories.sh/api/mcp?api_key=REPLACE_WITH_YOUR_API_KEY"
    }
  }
}
```

**Replace** `REPLACE_WITH_YOUR_API_KEY` with your key. Restart Claude Desktop after saving.

<div id="windsurf" />

### Windsurf

Add to `.windsurf/mcp.json` in your project:

```json
{
  "mcpServers": {
    "memories": {
      "url": "https://memories.sh/api/mcp?api_key=REPLACE_WITH_YOUR_API_KEY"
    }
  }
}
```

**Replace** `REPLACE_WITH_YOUR_API_KEY` with your key.

<div id="vscode" />

### VS Code

Add to `.vscode/mcp.json` in your project. Note: VS Code uses `servers` instead of `mcpServers`:

```json
{
  "servers": {
    "memories": {
      "url": "https://memories.sh/api/mcp?api_key=REPLACE_WITH_YOUR_API_KEY"
    }
  }
}
```

**Replace** `REPLACE_WITH_YOUR_API_KEY` with your key.

<div id="v0" />

### v0 / Web Tools

For web-based tools like v0, paste the endpoint URL in MCP settings:

```
https://memories.sh/api/mcp?api_key=REPLACE_WITH_YOUR_API_KEY
```

**Replace** `REPLACE_WITH_YOUR_API_KEY` with your key.

---

## Local MCP (Self-Hosted)

For local-only use without cloud sync, run the MCP server locally. This is useful for air-gapped environments or if you prefer keeping data entirely on your machine.

### Quick Setup

Run `memories init` to automatically detect and configure your tools:

```bash
memories init
```

### Manual Configuration

Start the local server:

```bash
memories serve
```

Then configure your tool to spawn it:

```json
{
  "mcpServers": {
    "memories": {
      "command": "npx",
      "args": ["-y", "@memories.sh/cli", "serve"]
    }
  }
}
```

Use the same config file locations as above. For VS Code, use `servers` instead of `mcpServers`.

---

## Available Tools

The MCP server exposes these tools to connected clients:

| Tool | Description |
|------|-------------|
| `get_context` | Get rules and relevant memories for the current task |
| `add_memory` | Store a new memory (rule, decision, fact, or note) |
| `search_memories` | Full-text search across memory content |
| `list_memories` | List recent memories, optionally filtered |
| `get_rules` | Get all active rules |
| `edit_memory` | Update an existing memory |
| `forget_memory` | Soft-delete a memory |

### Example: Adding a memory via MCP

When your AI agent learns something important, it can save it:

```
Tool: add_memory
Arguments: {
  "content": "The API rate limit is 100 requests per minute",
  "type": "fact",
  "tags": ["api", "limits"]
}
```

### Example: Getting context

```
Tool: get_context
Arguments: {
  "query": "authentication flow"
}
```

Returns all active rules plus memories relevant to the query.

## Cloud vs Local: When to Use Each

| Feature | Cloud MCP | Local MCP |
|---------|-----------|-----------|
| Sync across devices | ✓ | ✗ |
| Works offline | ✗ | ✓ |
| No local install needed | ✓ | ✗ |
| Air-gapped environments | ✗ | ✓ |
| Web-based tools (v0) | ✓ | ✗ |

**Use Cloud MCP** if you work across multiple machines or want the simplest setup.

**Use Local MCP** if you need offline access, work in air-gapped environments, or prefer keeping all data on your machine.
